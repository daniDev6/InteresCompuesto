<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Calculadora Interés Compuesto</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <main class="container" role="main" aria-labelledby="title">
    <header>
      <div>
        <h1 id="title">Calculadora de Interés Compuesto</h1>
        <p>Introduce los valores y obtén un desglose anual + resumen.</p>
      </div>
    </header>

    <section class="grid" aria-label="Formulario y resultados">
      <form class="card" id="form" onsubmit="return false;" aria-labelledby="title">
        <div>
          <label for="principal">Plata inicial</label>
          <input id="principal" type="number" min="0" step="0.01" value="3000" required aria-describedby="helpPrincipal">
          <div id="helpPrincipal" class="small">Cantidad con la que arrancás (ej: 3000).</div>
        </div>

        <div style="margin-top:10px">
          <label for="rate">Interés anual (%)</label>
          <input id="rate" type="number" min="0" step="0.01" value="5" required>
        </div>

        <div style="margin-top:10px" class="row">
          <div>
            <label for="years">Cantidad de años</label>
            <input id="years" type="number" min="1" step="1" value="10" required>
          </div>
          <div>
            <label for="reinvestPct">¿Cuánto desea reinvertir? (%)</label>
            <input id="reinvestPct" type="number" min="0" max="10000" step="0.1" value="100" required>
            <div class="small">Porcentaje del interés que se reinvierte cada año. 100 = reinvertir todo.</div>
          </div>
        </div>

        <div class="actions">
          <button id="calculate">Calcular</button>
          <button id="reset" class="ghost" type="button">Reset</button>
          <button id="exportCsv" class="ghost" type="button">Exportar CSV</button>
        </div>

        <div id="summary" class="results" aria-live="polite" hidden>
          <!-- resumen dinámico -->
        </div>
      </form>

      <div class="card" id="outputCard" aria-live="polite">
        <h3 style="margin:0 0 8px 0">Detalle anual</h3>
        <div id="tableWrapper" style="overflow:auto; max-height:520px">
          <table id="resultTable" aria-describedby="tableDesc">
            <thead>
              <tr>
                <th>Año</th>
                <th>Saldo inicio</th>
                <th>Interés ganado</th>
                <th>Reinvertido</th>
                <th>Saldo fin</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
          <div id="tableDesc" class="small" style="margin-top:8px">Tabla con el flujo por año.</div>
        </div>
      </div>
    </section>

  </main>

  <script src="app.js"/>

</body>
</html>
